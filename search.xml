<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[gulpå’ŒwebpackåŒºåˆ«]]></title>
    <url>%2F2019%2F01%2F29%2Fgulp%E5%92%8Cwebpack%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[æˆ‘æ„¿åŒ–èº«çŸ³æ¡¥ï¼Œå—äº”ç™¾å¹´é£å¹ï¼Œäº”ç™¾å¹´æ—¥æ™’ï¼Œäº”ç™¾å¹´é›¨æ·‹ï¼Œåªæ±‚å¥¹ä»æ¡¥ä¸Šç»è¿‡ åŸæ–‡åœ°å€ gulpgulpå¼ºè°ƒçš„æ˜¯å‰ç«¯å¼€å‘çš„å·¥ä½œæµç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®ä¸€ç³»åˆ—çš„taskï¼Œå®šä¹‰taskå¤„ç†çš„äº‹åŠ¡ï¼ˆä¾‹å¦‚æ–‡ä»¶å‹ç¼©åˆå¹¶ã€é›ªç¢§å›¾ã€å¯åŠ¨serverã€ç‰ˆæœ¬æ§åˆ¶ç­‰ï¼‰ï¼Œç„¶åå®šä¹‰æ‰§è¡Œé¡ºåºï¼Œæ¥è®©gulpæ‰§è¡Œè¿™äº›taskï¼Œä»è€Œæ„å»ºé¡¹ç›®çš„æ•´ä¸ªå‰ç«¯å¼€å‘æµç¨‹ã€‚ PSï¼šç®€å•è¯´å°±ä¸€ä¸ªTask Runner webpackwebpackæ˜¯ä¸€ä¸ªå‰ç«¯æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œæ›´ä¾§é‡æ¨¡å—æ‰“åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¼€å‘ä¸­çš„æ‰€æœ‰èµ„æºï¼ˆå›¾ç‰‡ã€jsæ–‡ä»¶ã€cssæ–‡ä»¶ç­‰ï¼‰éƒ½çœ‹æˆæ¨¡å—ï¼Œé€šè¿‡loaderï¼ˆåŠ è½½å™¨ï¼‰å’Œpluginsï¼ˆæ’ä»¶ï¼‰å¯¹èµ„æºè¿›è¡Œå¤„ç†ï¼Œæ‰“åŒ…æˆç¬¦åˆç”Ÿäº§ç¯å¢ƒéƒ¨ç½²çš„å‰ç«¯èµ„æºã€‚PSï¼šwebpack is a module bundle ç›¸åŒåŠŸèƒ½gulpä¸webpackå¯ä»¥å®ç°ä¸€äº›ç›¸åŒåŠŸèƒ½ï¼Œå¦‚ä¸‹ï¼ˆåˆ—ä¸¾éƒ¨åˆ†ï¼‰ï¼š åŠŸèƒ½ gulp webpack æ–‡ä»¶åˆå¹¶ä¸å‹ç¼©ï¼ˆcssï¼‰ ä½¿ç”¨gulp-minify-cssæ¨¡å— æ ·å¼åˆå¹¶ä¸€èˆ¬ç”¨åˆ°extract-text-webpack-pluginæ’ä»¶å‹ç¼©åˆ™ä½¿ç”¨webpack.optimize.UglifyJsPlugin æ–‡ä»¶åˆå¹¶ä¸å‹ç¼©ï¼ˆjsï¼‰ ä½¿ç”¨gulp-uglifyå’Œgulp-concatä¸¤ä¸ªæ¨¡å— jsåˆå¹¶åœ¨æ¨¡å—åŒ–å¼€å§‹å°±å·²ç»åš,å‹ç¼©åˆ™ä½¿ç”¨webpack.optimize.UglifyJsPlugin sass/lessé¢„ç¼–è¯‘ ä½¿ç”¨gulp-sass/gulp-less æ¨¡å— sass-loader/less-loader è¿›è¡Œé¢„å¤„ç† å¯åŠ¨server ä½¿ç”¨gulp-webserveræ¨¡å— ä½¿ç”¨webpack-dev-serveræ¨¡å— ç‰ˆæœ¬æ§åˆ¶ ä½¿ç”¨gulp-revå’Œgulp-rev-collectorä¸¤ä¸ªæ¨¡å— å°†ç”Ÿæˆæ–‡ä»¶åŠ ä¸Šhashå€¼ module.exports = {plugins:[new ExtractTextPlugin(style.[hash].cssâ€)} ä¸¤è€…åŒºåˆ« è™½ç„¶éƒ½æ˜¯å‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œä½†çœ‹ä»–ä»¬çš„å®šä½å°±çŸ¥é“ä¸æ˜¯å¯¹ç­‰çš„ã€‚ gulpä¸¥æ ¼ä¸Šè®²ï¼Œæ¨¡å—åŒ–ä¸æ˜¯ä»–å¼ºè°ƒçš„ä¸œè¥¿ï¼Œä»–æ—¨åœ¨è§„èŒƒå‰ç«¯å¼€å‘æµç¨‹ã€‚ webpackæ›´æ˜¯æ˜æ˜¾å¼ºè°ƒæ¨¡å—åŒ–å¼€å‘ï¼Œè€Œé‚£äº›æ–‡ä»¶å‹ç¼©åˆå¹¶ã€é¢„å¤„ç†ç­‰åŠŸèƒ½ï¼Œä¸è¿‡æ˜¯ä»–é™„å¸¦çš„åŠŸèƒ½ã€‚ æ€»ç»“ gulpåº”è¯¥ä¸gruntæ¯”è¾ƒï¼Œè€Œwebpackåº”è¯¥ä¸browserifyï¼ˆç½‘ä¸Šå¤ªå¤šèµ„æ–™å°±è¿™ä¹ˆè¯´ï¼Œè¿™ä¹ˆè¯´æ˜¯æ²¡æœ‰é”™ï¼Œä¸è¿‡å•å•è¿™æ ·ä¸€å¥è¯å¹¶ä¸èƒ½è®©äººæ¸…æ™°æ˜äº†ï¼‰ã€‚ gulpä¸webpackä¸Šæ˜¯äº’è¡¥çš„ï¼Œè¿˜æ˜¯å¯æ›¿æ¢çš„ï¼Œå–å†³äºä½ é¡¹ç›®çš„éœ€æ±‚ã€‚å¦‚æœåªæ˜¯ä¸ªvueæˆ–reactçš„å•é¡µåº”ç”¨ï¼Œwebpackä¹Ÿå°±å¤Ÿç”¨ï¼›å¦‚æœwebpackæŸäº›åŠŸèƒ½ä½¿ç”¨èµ·æ¥éº»çƒ¦ç”šè‡³æ²¡æœ‰ï¼ˆé›ªç¢§å›¾å°±æ²¡æœ‰ï¼‰ï¼Œé‚£å°±å¯ä»¥ç»“åˆgulpä¸€èµ·ç”¨ã€‚]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>gulpå’ŒwebpackåŒºåˆ«</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsæ¨¡å—åŒ–ç¼–ç¨‹å¼„æ‡‚CommonJSå’ŒAMD/CMDï¼]]></title>
    <url>%2F2019%2F01%2F28%2FCommonJs-AMD-CMD%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆæ¨¡å—å¾ˆé‡è¦ï¼Ÿ å› ä¸ºæœ‰äº†æ¨¡å—ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´æ–¹ä¾¿åœ°ä½¿ç”¨åˆ«äººçš„ä»£ç ï¼Œæƒ³è¦ä»€ä¹ˆåŠŸèƒ½ï¼Œå°±åŠ è½½ä»€ä¹ˆæ¨¡å—ã€‚ä½†æ˜¯ï¼Œè¿™æ ·åšæœ‰ä¸€ä¸ªå‰æï¼Œé‚£å°±æ˜¯å¤§å®¶å¿…é¡»ä»¥åŒæ ·çš„æ–¹å¼ç¼–å†™æ¨¡å—ï¼Œå¦åˆ™ä½ æœ‰ä½ çš„å†™æ³•ï¼Œæˆ‘æœ‰æˆ‘çš„å†™æ³•ï¼Œå²‚ä¸æ˜¯ä¹±äº†å¥—ï¼ åŸæ–‡é“¾æ¥ CommonJS ä¸€å¼€å§‹å¤§å®¶éƒ½è®¤ä¸ºJSæ˜¯è¾£é¸¡ï¼Œæ²¡ä»€ä¹ˆç”¨ï¼Œå®˜æ–¹å®šä¹‰çš„APIåªèƒ½æ„å»ºåŸºäºæµè§ˆå™¨çš„åº”ç”¨ç¨‹åºï¼Œé€—æˆ‘å‘¢ï¼Œè¿™å¤ªç‹­éš˜äº†å§(ç”¨äº†ä¸ªé«˜ç«¯è¯ï¼Œå˜å˜)ï¼ŒCommonJSå°±æŒ‰è€ä¸ä½äº†ï¼ŒCommonJS APIå®šä¹‰å¾ˆå¤šæ™®é€šåº”ç”¨ç¨‹åºï¼ˆä¸»è¦æŒ‡éæµè§ˆå™¨çš„åº”ç”¨ï¼‰ä½¿ç”¨çš„APIï¼Œä»è€Œå¡«è¡¥äº†è¿™ä¸ªç©ºç™½ã€‚å®ƒçš„ç»ˆæç›®æ ‡æ˜¯æä¾›ä¸€ä¸ªç±»ä¼¼Pythonï¼ŒRubyå’ŒJavaæ ‡å‡†åº“ã€‚è¿™æ ·çš„è¯ï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨CommonJS APIç¼–å†™åº”ç”¨ç¨‹åºï¼Œç„¶åè¿™äº›åº”ç”¨å¯ä»¥è¿è¡Œåœ¨ä¸åŒçš„JavaScriptè§£é‡Šå™¨å’Œä¸åŒçš„ä¸»æœºç¯å¢ƒä¸­ã€‚åœ¨å…¼å®¹CommonJSçš„ç³»ç»Ÿä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨JavaScriptå¼€å‘ä»¥ä¸‹ç¨‹åºï¼š (1).æœåŠ¡å™¨ç«¯JavaScriptåº”ç”¨ç¨‹åº(2).å‘½ä»¤è¡Œå·¥å…·(3).å›¾å½¢ç•Œé¢åº”ç”¨ç¨‹åº(4).æ··åˆåº”ç”¨ç¨‹åºï¼ˆå¦‚ï¼ŒTitaniumæˆ–Adobe AIRï¼‰ 2009å¹´ï¼Œç¾å›½ç¨‹åºå‘˜Ryan Dahlåˆ›é€ äº†node.jsé¡¹ç›®ï¼Œå°†javascriptè¯­è¨€ç”¨äºæœåŠ¡å™¨ç«¯ç¼–ç¨‹ã€‚è¿™æ ‡å¿—â€Javascriptæ¨¡å—åŒ–ç¼–ç¨‹â€æ­£å¼è¯ç”Ÿã€‚å› ä¸ºè€å®è¯´ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹ï¼Œæ²¡æœ‰æ¨¡å—ä¹Ÿä¸æ˜¯ç‰¹åˆ«å¤§çš„é—®é¢˜ï¼Œæ¯•ç«Ÿç½‘é¡µç¨‹åºçš„å¤æ‚æ€§æœ‰é™ï¼›ä½†æ˜¯åœ¨æœåŠ¡å™¨ç«¯ï¼Œä¸€å®šè¦æœ‰æ¨¡å—ï¼Œä¸æ“ä½œç³»ç»Ÿå’Œå…¶ä»–åº”ç”¨ç¨‹åºäº’åŠ¨ï¼Œå¦åˆ™æ ¹æœ¬æ²¡æ³•ç¼–ç¨‹ã€‚NodeJSæ˜¯CommonJSè§„èŒƒçš„å®ç°ï¼Œwebpack ä¹Ÿæ˜¯ä»¥CommonJSçš„å½¢å¼æ¥ä¹¦å†™ã€‚ node.jsçš„æ¨¡å—ç³»ç»Ÿï¼Œå°±æ˜¯å‚ç…§CommonJSè§„èŒƒå®ç°çš„ã€‚åœ¨CommonJSä¸­ï¼Œæœ‰ä¸€ä¸ªå…¨å±€æ€§æ–¹æ³•require()ï¼Œç”¨äºåŠ è½½æ¨¡å—ã€‚å‡å®šæœ‰ä¸€ä¸ªæ•°å­¦æ¨¡å—math.jsï¼Œå°±å¯ä»¥åƒä¸‹é¢è¿™æ ·åŠ è½½ã€‚ var math = require(â€˜mathâ€™); ç„¶åï¼Œå°±å¯ä»¥è°ƒç”¨æ¨¡å—æä¾›çš„æ–¹æ³•ï¼š var math = require(â€˜mathâ€™); math.add(2,3); // 5 CommonJSå®šä¹‰çš„æ¨¡å—åˆ†ä¸º:{æ¨¡å—å¼•ç”¨(require)} {æ¨¡å—å®šä¹‰(exports)} {æ¨¡å—æ ‡è¯†(module)} require()ç”¨æ¥å¼•å…¥å¤–éƒ¨æ¨¡å—ï¼›exportså¯¹è±¡ç”¨äºå¯¼å‡ºå½“å‰æ¨¡å—çš„æ–¹æ³•æˆ–å˜é‡ï¼Œå”¯ä¸€çš„å¯¼å‡ºå£ï¼›moduleå¯¹è±¡å°±ä»£è¡¨æ¨¡å—æœ¬èº«ã€‚ è™½è¯´Nodeéµå¾ªCommonJSçš„è§„èŒƒï¼Œä½†æ˜¯ç›¸æ¯”ä¹Ÿæ˜¯åšäº†ä¸€äº›å–èˆï¼Œå¡«äº†ä¸€äº›æ–°ä¸œè¥¿çš„ã€‚ ä¸è¿‡ï¼Œè¯´äº†CommonJSä¹Ÿè¯´äº†Nodeï¼Œé‚£ä¹ˆæˆ‘è§‰å¾—ä¹Ÿå¾—å…ˆäº†è§£ä¸‹NPMäº†ã€‚NPMä½œä¸ºNodeçš„åŒ…ç®¡ç†å™¨ï¼Œä¸æ˜¯ä¸ºäº†å¸®åŠ©Nodeè§£å†³ä¾èµ–åŒ…çš„å®‰è£…é—®é¢˜å˜›ï¼Œé‚£å®ƒè‚¯å®šä¹Ÿè¦éµå¾ªCommonJSè§„èŒƒå•¦ï¼Œå®ƒéµå¾ªåŒ…è§„èŒƒï¼ˆè¿˜æ˜¯ç†è®ºï¼‰çš„ã€‚CommonJS WIKIè®²äº†å®ƒçš„å†å²ï¼Œè¿˜ä»‹ç»äº†moduleså’Œpackagesç­‰ã€‚ ä¸‹é¢è®²è®²commonJSçš„åŸç†ä»¥åŠç®€æ˜“å®ç°ï¼š åŸç†æµè§ˆå™¨ä¸æ”¯æŒCommonJSåŸå› ï¼Œåœ¨äºç¼ºå°‘å››ä¸ªNode.jsç¯å¢ƒå˜é‡ module exports require globalåªè¦èƒ½æä¾›è¿™4ä¸ªå˜é‡ï¼Œæµè§ˆå™¨å°±èƒ½åŠ è½½CommonJSæ¨¡å—ä¸‹é¢ä¸€ä¸ªç®€å•ç¤ºä¾‹ var module = { exports : {} }; (function(module,exports){ exports.multiply = function(n){return n*100} }(module,module.exports)) var f = module.exports.multiply; f(5) // 500 ä¸Šé¢ä»£ç å‘ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°æä¾› module å’Œ exports ä¸¤ä¸ªå¤–éƒ¨å˜é‡ï¼Œæ¨¡å—å°±æ”¾åœ¨è¿™ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°é‡Œé¢ã€‚æ¨¡å—çš„è¾“å‡ºå€¼æ”¾åœ¨ module.exports ä¹‹ä¸­ï¼Œè¿™æ ·å°±å®ç°äº†æ¨¡å—çš„åŠ è½½ã€‚ Browserify çš„å®ç°çŸ¥é“äº†åŸç†ï¼Œå°±èƒ½åšå‡ºå·¥å…·äº†ã€‚Browserify æ˜¯ç›®å‰æœ€å¸¸ç”¨çš„ CommonJS æ ¼å¼è½¬æ¢çš„å·¥å…·ã€‚ è¯·çœ‹ä¸€ä¸ªä¾‹å­ï¼Œmain.js æ¨¡å—åŠ è½½ foo.js æ¨¡å—ã€‚ 12345678// foo.jsmodule.exports = function(x) &#123;console.log(x);&#125;;// main.jsvar foo = require(&quot;./foo&quot;);foo(&quot;Hi&quot;); ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œå°±èƒ½å°†main.jsè½¬ä¸ºæµè§ˆå™¨å¯ç”¨çš„æ ¼å¼ã€‚ $ browserify main.js &gt; compiled.jsBrowserifyåˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿå®‰è£…ä¸€ä¸‹browser-unpackï¼Œå°±èƒ½çœ‹æ¸…æ¥šäº†ã€‚$ npm install browser-unpack -gç„¶åï¼Œå°†å‰é¢ç”Ÿæˆçš„compile.jsè§£åŒ…ã€‚ $ browser-unpack &lt; compiled.js 12345678910111213[ &#123; &quot;id&quot;:1, &quot;source&quot;:&quot;module.exports = function(x) &#123;\n console.log(x);\n&#125;;&quot;, &quot;deps&quot;:&#123;&#125; &#125;, &#123; &quot;id&quot;:2, &quot;source&quot;:&quot;var foo = require(\&quot;./foo\&quot;);\nfoo(\&quot;Hi\&quot;);&quot;, &quot;deps&quot;:&#123;&quot;./foo&quot;:1&#125;, &quot;entry&quot;:true &#125;] å¯ä»¥çœ‹åˆ°ï¼Œbrowerify å°†æ‰€æœ‰æ¨¡å—æ”¾å…¥ä¸€ä¸ªæ•°ç»„ï¼Œid å±æ€§æ˜¯æ¨¡å—çš„ç¼–å·ï¼Œsource å±æ€§æ˜¯æ¨¡å—çš„æºç ï¼Œdeps å±æ€§æ˜¯æ¨¡å—çš„ä¾èµ–ã€‚ å› ä¸ºmain.jsåŠ è½½äº†foo.js,æ‰€ä»¥depså±æ€§å°±æŒ‡å®š./fooå¯¹åº”1å·æ¨¡å—ã€‚æ‰§è¡Œæ—¶å€™ï¼Œæµè§ˆå™¨é‡åˆ°require(./foo)è¯­å¥ï¼Œå°±è‡ªåŠ¨æ‰§è¡Œ1å¥½æ¨¡å—çš„sourceå±æ€§ï¼Œå¹¶å°†æ‰§è¡Œåmodule.exportså±æ€§å€¼è¾“å‡º Tiny Browser Requireè™½ç„¶ Browserify å¾ˆå¼ºå¤§ï¼Œä½†ä¸èƒ½åœ¨æµè§ˆå™¨é‡Œæ“ä½œï¼Œæœ‰æ—¶å°±å¾ˆä¸æ–¹ä¾¿ã€‚æˆ‘æ ¹æ® mocha çš„å†…éƒ¨å®ç°ï¼Œåšäº†ä¸€ä¸ªçº¯æµè§ˆå™¨çš„ CommonJS æ¨¡å—åŠ è½½å™¨ tiny-browser-require ã€‚å®Œå…¨ä¸éœ€è¦å‘½ä»¤è¡Œï¼Œç›´æ¥æ”¾è¿›æµè§ˆå™¨å³å¯ï¼Œæ‰€æœ‰ä»£ç åªæœ‰30å¤šè¡Œã€‚ å®ƒçš„é€»è¾‘éå¸¸ç®€å•ï¼Œå°±æ˜¯æŠŠæ¨¡å—è¯»å…¥æ•°ç»„ï¼ŒåŠ è½½è·¯å¾„å°±æ˜¯æ¨¡å—çš„idã€‚123456789101112131415161718192021222324252627282930313233343536373839404142 function require(p)&#123; var path = require.resolve(p); //node.jsè¯­æ³•åŠ è½½å½“å‰æ¨¡å—ç›®å½•ä¸‹çš„ç»å¯¹è·¯å¾„ var mod = require.modules[path]; if (!mod) throw new Error(&apos;failed to require &quot;&apos; + p + &apos;&quot;&apos;); if (!mod.exports) &#123; mod.exports = &#123;&#125;; mod.call(mod.exports, mod, mod.exports, require.relative(path)); &#125; return mod.exports;&#125;require.modules = &#123;&#125;;require.resolve = function (path)&#123; var orig = path; var reg = path + &apos;.js&apos;; var index = path + &apos;/index.js&apos;; return require.modules[reg] &amp;&amp; reg || require.modules[index] &amp;&amp; index || orig;&#125;;require.register = function (path, fn)&#123; require.modules[path] = fn;&#125;;require.relative = function (parent) &#123; return function(p)&#123; if (&apos;.&apos; != p.charAt(0)) return require(p); var path = parent.split(&apos;/&apos;); var segs = p.split(&apos;/&apos;); path.pop(); for (var i = 0; i &lt; segs.length; i++) &#123; var seg = segs[i]; if (&apos;..&apos; == seg) path.pop(); else if (&apos;.&apos; != seg) path.push(seg); &#125; return require(path.join(&apos;/&apos;)); &#125;;&#125;;ä½¿ç”¨çš„æ—¶å€™ï¼Œå…ˆå°†ä¸Šé¢çš„ä»£ç æ”¾å…¥é¡µé¢ã€‚ç„¶åï¼Œå°†æ¨¡å—æ”¾åœ¨å¦‚ä¸‹çš„ç«‹å³æ‰§è¡Œå‡½æ•°é‡Œé¢ï¼Œå°±å¯ä»¥è°ƒç”¨äº†ã€‚ &lt;script src=&quot;require.js&quot; /&gt; &lt;script&gt; require.register(&quot;moduleId&quot;, function(module, exports, require){ // Module code goes here }); var result = require(&quot;moduleId&quot;); &lt;/script&gt; è¿˜æ˜¯ä»¥å‰é¢çš„ main.js åŠ è½½ foo.js ä¸ºä¾‹ã€‚ require.register(&quot;./foo.js&quot;, function(module, exports, require){ module.exports = function(x) { console.log(x); }; }); var foo = require(&quot;./foo.js&quot;); foo(&quot;Hi&quot;); æ³¨æ„ï¼Œè¿™ä¸ªåº“åªæ¨¡æ‹Ÿäº† require ã€module ã€exports ä¸‰ä¸ªå˜é‡ï¼Œå¦‚æœæ¨¡å—è¿˜ç”¨åˆ°äº† global æˆ–è€…å…¶ä»– Node ä¸“æœ‰å˜é‡ï¼ˆæ¯”å¦‚ processï¼‰ï¼Œå°±é€šè¿‡ç«‹å³æ‰§è¡Œå‡½æ•°æä¾›å³å¯ã€‚ AMDåŸºäºcommonJSè§„èŒƒçš„nodeJSå‡ºæ¥ä»¥åï¼ŒæœåŠ¡ç«¯çš„æ¨¡å—æ¦‚å¿µå·²ç»å½¢æˆï¼Œå¾ˆè‡ªç„¶åœ°ï¼Œå¤§å®¶å°±æƒ³è¦å®¢æˆ·ç«¯æ¨¡å—ã€‚è€Œä¸”æœ€å¥½ä¸¤è€…èƒ½å¤Ÿå…¼å®¹ï¼Œä¸€ä¸ªæ¨¡å—ä¸ç”¨ä¿®æ”¹ï¼Œåœ¨æœåŠ¡å™¨å’Œæµè§ˆå™¨éƒ½å¯ä»¥è¿è¡Œã€‚ä½†æ˜¯ï¼Œç”±äºä¸€ä¸ªé‡å¤§çš„å±€é™ï¼Œä½¿å¾—CommonJSè§„èŒƒä¸é€‚ç”¨äºæµè§ˆå™¨ç¯å¢ƒã€‚è¿˜æ˜¯ä¸Šé¢çš„ä»£ç ï¼Œå¦‚æœåœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œä¼šæœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œä½ èƒ½çœ‹å‡ºæ¥å—ï¼Ÿ var math = require(â€˜mathâ€™);math.add(2, 3); ç¬¬äºŒè¡Œmath.add(2, 3)ï¼Œåœ¨ç¬¬ä¸€è¡Œrequire(â€˜mathâ€™)ä¹‹åè¿è¡Œï¼Œå› æ­¤å¿…é¡»ç­‰math.jsåŠ è½½å®Œæˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåŠ è½½æ—¶é—´å¾ˆé•¿ï¼Œæ•´ä¸ªåº”ç”¨å°±ä¼šåœåœ¨é‚£é‡Œç­‰ã€‚æ‚¨ä¼šæ³¨æ„åˆ° require æ˜¯åŒæ­¥çš„ã€‚ è¿™å¯¹æœåŠ¡å™¨ç«¯ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæ‰€æœ‰çš„æ¨¡å—éƒ½å­˜æ”¾åœ¨æœ¬åœ°ç¡¬ç›˜ï¼Œå¯ä»¥åŒæ­¥åŠ è½½å®Œæˆï¼Œç­‰å¾…æ—¶é—´å°±æ˜¯ç¡¬ç›˜çš„è¯»å–æ—¶é—´ã€‚ä½†æ˜¯ï¼Œå¯¹äºæµè§ˆå™¨ï¼Œè¿™å´æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ï¼Œå› ä¸ºæ¨¡å—éƒ½æ”¾åœ¨æœåŠ¡å™¨ç«¯ï¼Œç­‰å¾…æ—¶é—´å–å†³äºç½‘é€Ÿçš„å¿«æ…¢ï¼Œå¯èƒ½è¦ç­‰å¾ˆé•¿æ—¶é—´ï¼Œæµè§ˆå™¨å¤„äºâ€å‡æ­»â€çŠ¶æ€ã€‚ å› æ­¤ï¼Œæµè§ˆå™¨ç«¯çš„æ¨¡å—ï¼Œä¸èƒ½é‡‡ç”¨â€åŒæ­¥åŠ è½½â€ï¼ˆsynchronousï¼‰ï¼Œåªèƒ½é‡‡ç”¨â€å¼‚æ­¥åŠ è½½â€ï¼ˆasynchronousï¼‰ã€‚è¿™å°±æ˜¯AMDè§„èŒƒè¯ç”Ÿçš„èƒŒæ™¯ã€‚ CommonJSæ˜¯ä¸»è¦ä¸ºäº†JSåœ¨åç«¯çš„è¡¨ç°åˆ¶å®šçš„ï¼Œä»–æ˜¯ä¸é€‚åˆå‰ç«¯çš„ï¼ŒAMD(å¼‚æ­¥æ¨¡å—å®šä¹‰)å‡ºç°äº†ï¼Œå®ƒå°±ä¸»è¦ä¸ºå‰ç«¯JSçš„è¡¨ç°åˆ¶å®šè§„èŒƒã€‚ AMDæ˜¯â€Asynchronous Module Definitionâ€çš„ç¼©å†™ï¼Œæ„æ€å°±æ˜¯â€å¼‚æ­¥æ¨¡å—å®šä¹‰â€ã€‚å®ƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“å®ƒåé¢è¯­å¥çš„è¿è¡Œã€‚æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œç­‰åˆ°åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œã€‚ AMDä¹Ÿé‡‡ç”¨require()è¯­å¥åŠ è½½æ¨¡å—ï¼Œä½†æ˜¯ä¸åŒäºCommonJSï¼Œå®ƒè¦æ±‚ä¸¤ä¸ªå‚æ•°ï¼š require([module], callback); ç¬¬ä¸€ä¸ªå‚æ•°[module]ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢çš„æˆå‘˜å°±æ˜¯è¦åŠ è½½çš„æ¨¡å—ï¼›ç¬¬äºŒä¸ªå‚æ•°callbackï¼Œåˆ™æ˜¯åŠ è½½æˆåŠŸä¹‹åçš„å›è°ƒå‡½æ•°ã€‚å¦‚æœå°†å‰é¢çš„ä»£ç æ”¹å†™æˆAMDå½¢å¼ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š123require([&apos;math&apos;], function (math) &#123; math.add(2, 3); &#125;); math.add()ä¸mathæ¨¡å—åŠ è½½ä¸æ˜¯åŒæ­¥çš„ï¼Œæµè§ˆå™¨ä¸ä¼šå‘ç”Ÿå‡æ­»ã€‚æ‰€ä»¥å¾ˆæ˜¾ç„¶ï¼ŒAMDæ¯”è¾ƒé€‚åˆæµè§ˆå™¨ç¯å¢ƒã€‚ç›®å‰ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªJavascriptåº“å®ç°äº†AMDè§„èŒƒï¼šrequire.jså’Œcurl.jsã€‚ RequireJSå°±æ˜¯å®ç°äº†AMDè§„èŒƒçš„å‘¢ã€‚è¯¦ç»†æ¦‚æ‹¬ï¼šä¸‹é¢ä»¥RequireJSä¸ºä¾‹è¯´æ˜AMDè§„èŒƒ ä¸ºä»€ä¹ˆè¦ç”¨require.jsï¼Ÿæœ€æ—©çš„æ—¶å€™ï¼Œæ‰€æœ‰Javascriptä»£ç éƒ½å†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œåªè¦åŠ è½½è¿™ä¸€ä¸ªæ–‡ä»¶å°±å¤Ÿäº†ã€‚åæ¥ï¼Œä»£ç è¶Šæ¥è¶Šå¤šï¼Œä¸€ä¸ªæ–‡ä»¶ä¸å¤Ÿäº†ï¼Œå¿…é¡»åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼Œä¾æ¬¡åŠ è½½ã€‚ä¸‹é¢çš„ç½‘é¡µä»£ç ï¼Œç›¸ä¿¡å¾ˆå¤šäººéƒ½è§è¿‡ã€‚123456&lt;script src=&quot;1.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;2.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;3.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;4.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;5.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;6.js&quot;&gt;&lt;/script&gt;è¿™æ®µä»£ç ä¾æ¬¡åŠ è½½å¤šä¸ªjsæ–‡ä»¶ã€‚è¿™æ ·çš„å†™æ³•æœ‰å¾ˆå¤§çš„ç¼ºç‚¹ã€‚é¦–å…ˆï¼ŒåŠ è½½çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šåœæ­¢ç½‘é¡µæ¸²æŸ“ï¼ŒåŠ è½½æ–‡ä»¶è¶Šå¤šï¼Œç½‘é¡µå¤±å»å“åº”çš„æ—¶é—´å°±ä¼šè¶Šé•¿ï¼›å…¶æ¬¡ï¼Œç”±äºjsæ–‡ä»¶ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå› æ­¤å¿…é¡»ä¸¥æ ¼ä¿è¯åŠ è½½é¡ºåºï¼ˆæ¯”å¦‚ä¸Šä¾‹çš„1.jsè¦åœ¨2.jsçš„å‰é¢ï¼‰ï¼Œä¾èµ–æ€§æœ€å¤§çš„æ¨¡å—ä¸€å®šè¦æ”¾åˆ°æœ€ååŠ è½½ï¼Œå½“ä¾èµ–å…³ç³»å¾ˆå¤æ‚çš„æ—¶å€™ï¼Œä»£ç çš„ç¼–å†™å’Œç»´æŠ¤éƒ½ä¼šå˜å¾—å›°éš¾ã€‚ require.jsçš„è¯ç”Ÿï¼Œå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼š (1) å®ç°jsæ–‡ä»¶çš„å¼‚æ­¥åŠ è½½ï¼Œé¿å…ç½‘é¡µå¤±å»å“åº”ï¼›(2) ç®¡ç†æ¨¡å—ä¹‹é—´çš„ä¾èµ–æ€§ï¼Œä¾¿äºä»£ç çš„ç¼–å†™å’Œç»´æŠ¤ã€‚ require.jsçš„åŠ è½½ä½¿ç”¨require.jsçš„ç¬¬ä¸€æ­¥ï¼Œæ˜¯å…ˆå»å®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ã€‚ä¸‹è½½åï¼Œå‡å®šæŠŠå®ƒæ”¾åœ¨jså­ç›®å½•ä¸‹é¢ï¼Œå°±å¯ä»¥åŠ è½½äº†ã€‚ &lt;script src=&quot;js/require.js&quot;&gt;&lt;/script&gt; æœ‰äººå¯èƒ½ä¼šæƒ³åˆ°ï¼ŒåŠ è½½è¿™ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯èƒ½é€ æˆç½‘é¡µå¤±å»å“åº”ã€‚è§£å†³åŠæ³•æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯æŠŠå®ƒæ”¾åœ¨ç½‘é¡µåº•éƒ¨åŠ è½½ï¼Œå¦ä¸€ä¸ªæ˜¯å†™æˆä¸‹é¢è¿™æ ·ï¼š &lt;script src=&quot;js/require.js&quot; defer async=&quot;true&quot; &gt;&lt;/script&gt; asyncå±æ€§è¡¨æ˜è¿™ä¸ªæ–‡ä»¶éœ€è¦å¼‚æ­¥åŠ è½½ï¼Œé¿å…ç½‘é¡µå¤±å»å“åº”ã€‚IEä¸æ”¯æŒè¿™ä¸ªå±æ€§ï¼Œåªæ”¯æŒdeferï¼Œæ‰€ä»¥æŠŠdeferä¹Ÿå†™ä¸Šã€‚åŠ è½½require.jsä»¥åï¼Œä¸‹ä¸€æ­¥å°±è¦åŠ è½½æˆ‘ä»¬è‡ªå·±çš„ä»£ç äº†ã€‚å‡å®šæˆ‘ä»¬è‡ªå·±çš„ä»£ç æ–‡ä»¶æ˜¯main.jsï¼Œä¹Ÿæ”¾åœ¨jsç›®å½•ä¸‹é¢ã€‚é‚£ä¹ˆï¼Œåªéœ€è¦å†™æˆä¸‹é¢è¿™æ ·å°±è¡Œäº†ï¼š &lt;script src=&quot;js/require.js&quot; data-main=&quot;js/main&quot;&gt;&lt;/script&gt; data-mainå±æ€§çš„ä½œç”¨æ˜¯ï¼ŒæŒ‡å®šç½‘é¡µç¨‹åºçš„ä¸»æ¨¡å—ã€‚åœ¨ä¸Šä¾‹ä¸­ï¼Œå°±æ˜¯jsç›®å½•ä¸‹é¢çš„main.jsï¼Œè¿™ä¸ªæ–‡ä»¶ä¼šç¬¬ä¸€ä¸ªè¢«require.jsåŠ è½½ã€‚ç”±äºrequire.jsé»˜è®¤çš„æ–‡ä»¶åç¼€åæ˜¯jsï¼Œæ‰€ä»¥å¯ä»¥æŠŠmain.jsç®€å†™æˆmainã€‚ ä¸»æ¨¡å—çš„å†™æ³•ä¸Šä¸€èŠ‚çš„main.jsï¼Œæˆ‘æŠŠå®ƒç§°ä¸ºâ€ä¸»æ¨¡å—â€ï¼Œæ„æ€æ˜¯æ•´ä¸ªç½‘é¡µçš„å…¥å£ä»£ç ã€‚å®ƒæœ‰ç‚¹åƒCè¯­è¨€çš„main()å‡½æ•°ï¼Œæ‰€æœ‰ä»£ç éƒ½ä»è¿™å„¿å¼€å§‹è¿è¡Œã€‚ä¸‹é¢å°±æ¥çœ‹ï¼Œæ€ä¹ˆå†™main.jsã€‚å¦‚æœæˆ‘ä»¬çš„ä»£ç ä¸ä¾èµ–ä»»ä½•å…¶ä»–æ¨¡å—ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å†™å…¥javascriptä»£ç ã€‚ // main.js alert(â€œåŠ è½½æˆåŠŸï¼â€); ä½†è¿™æ ·çš„è¯ï¼Œå°±æ²¡å¿…è¦ä½¿ç”¨require.jsäº†ã€‚çœŸæ­£å¸¸è§çš„æƒ…å†µæ˜¯ï¼Œä¸»æ¨¡å—ä¾èµ–äºå…¶ä»–æ¨¡å—ï¼Œè¿™æ—¶å°±è¦ä½¿ç”¨AMDè§„èŒƒå®šä¹‰çš„çš„require()å‡½æ•°ã€‚ // main.js require([â€˜moduleAâ€™, â€˜moduleBâ€™, â€˜moduleCâ€™], function (moduleA, moduleB, moduleC){ // some code here }); require()å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºæ‰€ä¾èµ–çš„æ¨¡å—ï¼Œä¸Šä¾‹å°±æ˜¯[â€˜moduleAâ€™, â€˜moduleBâ€™, â€˜moduleCâ€™]ï¼Œå³ä¸»æ¨¡å—ä¾èµ–è¿™ä¸‰ä¸ªæ¨¡å—ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“å‰é¢æŒ‡å®šçš„æ¨¡å—éƒ½åŠ è½½æˆåŠŸåï¼Œå®ƒå°†è¢«è°ƒç”¨ã€‚åŠ è½½çš„æ¨¡å—ä¼šä»¥å‚æ•°å½¢å¼ä¼ å…¥è¯¥å‡½æ•°ï¼Œä»è€Œåœ¨å›è°ƒå‡½æ•°å†…éƒ¨å°±å¯ä»¥ä½¿ç”¨è¿™äº›æ¨¡å—ã€‚ require()å¼‚æ­¥åŠ è½½moduleAï¼ŒmoduleBå’ŒmoduleCï¼Œæµè§ˆå™¨ä¸ä¼šå¤±å»å“åº”ï¼›å®ƒæŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œåªæœ‰å‰é¢çš„æ¨¡å—éƒ½åŠ è½½æˆåŠŸåï¼Œæ‰ä¼šè¿è¡Œï¼Œè§£å†³äº†ä¾èµ–æ€§çš„é—®é¢˜ã€‚ ä¸‹é¢ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªå®é™…çš„ä¾‹å­ã€‚å‡å®šä¸»æ¨¡å—ä¾èµ–jqueryã€underscoreå’Œbackboneè¿™ä¸‰ä¸ªæ¨¡å—ï¼Œmain.jså°±å¯ä»¥è¿™æ ·å†™ï¼š require([â€˜jqueryâ€™, â€˜underscoreâ€™, â€˜backboneâ€™], function ($, _, Backbone){ // some code here }); require.jsä¼šå…ˆåŠ è½½jQueryã€underscoreå’Œbackboneï¼Œç„¶åå†è¿è¡Œå›è°ƒå‡½æ•°ã€‚ä¸»æ¨¡å—çš„ä»£ç å°±å†™åœ¨å›è°ƒå‡½æ•°ä¸­ã€‚ æ¨¡å—çš„åŠ è½½ä¸Šä¸€èŠ‚æœ€åçš„ç¤ºä¾‹ä¸­ï¼Œä¸»æ¨¡å—çš„ä¾èµ–æ¨¡å—æ˜¯[â€˜jqueryâ€™, â€˜underscoreâ€™, â€˜backboneâ€™]ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œrequire.jså‡å®šè¿™ä¸‰ä¸ªæ¨¡å—ä¸main.jsåœ¨åŒä¸€ä¸ªç›®å½•ï¼Œæ–‡ä»¶ååˆ†åˆ«ä¸ºjquery.jsï¼Œunderscore.jså’Œbackbone.jsï¼Œç„¶åè‡ªåŠ¨åŠ è½½ã€‚ ä½¿ç”¨require.config()æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¨¡å—çš„åŠ è½½è¡Œä¸ºè¿›è¡Œè‡ªå®šä¹‰ã€‚require.config()å°±å†™åœ¨ä¸»æ¨¡å—ï¼ˆmain.jsï¼‰çš„å¤´éƒ¨ã€‚å‚æ•°å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„pathså±æ€§æŒ‡å®šå„ä¸ªæ¨¡å—çš„åŠ è½½è·¯å¾„ã€‚ require.config({ paths: { â€œjqueryâ€: â€œjquery.minâ€, â€œunderscoreâ€: â€œunderscore.minâ€, â€œbackboneâ€: â€œbackbone.minâ€ } }); ä¸Šé¢çš„ä»£ç ç»™å‡ºäº†ä¸‰ä¸ªæ¨¡å—çš„æ–‡ä»¶åï¼Œè·¯å¾„é»˜è®¤ä¸main.jsåœ¨åŒä¸€ä¸ªç›®å½•ï¼ˆjså­ç›®å½•ï¼‰ã€‚å¦‚æœè¿™äº›æ¨¡å—åœ¨å…¶ä»–ç›®å½•ï¼Œæ¯”å¦‚js/libç›®å½•ï¼Œåˆ™æœ‰ä¸¤ç§å†™æ³•ã€‚ä¸€ç§æ˜¯é€ä¸€æŒ‡å®šè·¯å¾„ã€‚ require.config({ paths: { â€œjqueryâ€: â€œlib/jquery.minâ€, â€œunderscoreâ€: â€œlib/underscore.minâ€, â€œbackboneâ€: â€œlib/backbone.minâ€ } }); å¦ä¸€ç§åˆ™æ˜¯ç›´æ¥æ”¹å˜åŸºç›®å½•ï¼ˆbaseUrlï¼‰ã€‚ require.config({ baseUrl: â€œjs/libâ€, paths: { â€œjqueryâ€: â€œjquery.minâ€, â€œunderscoreâ€: â€œunderscore.minâ€, â€œbackboneâ€: â€œbackbone.minâ€ } }); å¦‚æœæŸä¸ªæ¨¡å—åœ¨å¦ä¸€å°ä¸»æœºä¸Šï¼Œä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šå®ƒçš„ç½‘å€ï¼Œæ¯”å¦‚ï¼š require.config({ paths: { â€œjqueryâ€: â€œhttps://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min&quot; } }); require.jsè¦æ±‚ï¼Œæ¯ä¸ªæ¨¡å—æ˜¯ä¸€ä¸ªå•ç‹¬çš„jsæ–‡ä»¶ã€‚è¿™æ ·çš„è¯ï¼Œå¦‚æœåŠ è½½å¤šä¸ªæ¨¡å—ï¼Œå°±ä¼šå‘å‡ºå¤šæ¬¡HTTPè¯·æ±‚ï¼Œä¼šå½±å“ç½‘é¡µçš„åŠ è½½é€Ÿåº¦ã€‚å› æ­¤ï¼Œrequire.jsæä¾›äº†ä¸€ä¸ªä¼˜åŒ–å·¥å…·ï¼Œå½“æ¨¡å—éƒ¨ç½²å®Œæ¯•ä»¥åï¼Œå¯ä»¥ç”¨è¿™ä¸ªå·¥å…·å°†å¤šä¸ªæ¨¡å—åˆå¹¶åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå‡å°‘HTTPè¯·æ±‚æ•°ã€‚ AMDæ¨¡å—çš„å†™æ³•require.jsåŠ è½½çš„æ¨¡å—ï¼Œé‡‡ç”¨AMDè§„èŒƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¨¡å—å¿…é¡»æŒ‰ç…§AMDçš„è§„å®šæ¥å†™ã€‚ å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æ¨¡å—å¿…é¡»é‡‡ç”¨ç‰¹å®šçš„define()å‡½æ•°æ¥å®šä¹‰ã€‚å¦‚æœä¸€ä¸ªæ¨¡å—ä¸ä¾èµ–å…¶ä»–æ¨¡å—ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å®šä¹‰åœ¨define()å‡½æ•°ä¹‹ä¸­ã€‚ å‡å®šç°åœ¨æœ‰ä¸€ä¸ªmath.jsæ–‡ä»¶ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªmathæ¨¡å—ã€‚é‚£ä¹ˆï¼Œmath.jså°±è¦è¿™æ ·å†™ï¼š // math.js define(function (){ var add = function (x,y){ return x+y; }; return { add: add }; }); åŠ è½½æ–¹æ³•å¦‚ä¸‹ï¼š // main.js require([â€˜mathâ€™], function (math){ alert(math.add(1,1)); }); å¦‚æœè¿™ä¸ªæ¨¡å—è¿˜ä¾èµ–å…¶ä»–æ¨¡å—ï¼Œé‚£ä¹ˆdefine()å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒæŒ‡æ˜è¯¥æ¨¡å—çš„ä¾èµ–æ€§ã€‚ define([â€˜myLibâ€™], function(myLib){ function foo(){ myLib.doSomething(); } return { foo : foo }; }); å½“require()å‡½æ•°åŠ è½½ä¸Šé¢è¿™ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œå°±ä¼šå…ˆåŠ è½½myLib.jsæ–‡ä»¶ã€‚ åŠ è½½éè§„èŒƒçš„æ¨¡å—ç†è®ºä¸Šï¼Œrequire.jsåŠ è½½çš„æ¨¡å—ï¼Œå¿…é¡»æ˜¯æŒ‰ç…§AMDè§„èŒƒã€ç”¨define()å‡½æ•°å®šä¹‰çš„æ¨¡å—ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œè™½ç„¶å·²ç»æœ‰ä¸€éƒ¨åˆ†æµè¡Œçš„å‡½æ•°åº“ï¼ˆæ¯”å¦‚jQueryï¼‰ç¬¦åˆAMDè§„èŒƒï¼Œæ›´å¤šçš„åº“å¹¶ä¸ç¬¦åˆã€‚é‚£ä¹ˆï¼Œrequire.jsæ˜¯å¦èƒ½å¤ŸåŠ è½½éè§„èŒƒçš„æ¨¡å—å‘¢ï¼Ÿ å›ç­”æ˜¯å¯ä»¥çš„ã€‚ è¿™æ ·çš„æ¨¡å—åœ¨ç”¨require()åŠ è½½ä¹‹å‰ï¼Œè¦å…ˆç”¨require.config()æ–¹æ³•ï¼Œå®šä¹‰å®ƒä»¬çš„ä¸€äº›ç‰¹å¾ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œunderscoreå’Œbackboneè¿™ä¸¤ä¸ªåº“ï¼Œéƒ½æ²¡æœ‰é‡‡ç”¨AMDè§„èŒƒç¼–å†™ã€‚å¦‚æœè¦åŠ è½½å®ƒä»¬çš„è¯ï¼Œå¿…é¡»å…ˆå®šä¹‰å®ƒä»¬çš„ç‰¹å¾ã€‚ require.config({ shim: { â€˜underscoreâ€™:{ exports: â€˜_â€™ }, â€˜backboneâ€™: { deps: [â€˜underscoreâ€™, â€˜jqueryâ€™], exports: â€˜Backboneâ€™ } } }); require.config()æ¥å—ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡é™¤äº†æœ‰å‰é¢è¯´è¿‡çš„pathså±æ€§ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªshimå±æ€§ï¼Œä¸“é—¨ç”¨æ¥é…ç½®ä¸å…¼å®¹çš„æ¨¡å—ã€‚å…·ä½“æ¥è¯´ï¼Œæ¯ä¸ªæ¨¡å—è¦å®šä¹‰ï¼ˆ1ï¼‰exportså€¼ï¼ˆè¾“å‡ºçš„å˜é‡åï¼‰ï¼Œè¡¨æ˜è¿™ä¸ªæ¨¡å—å¤–éƒ¨è°ƒç”¨æ—¶çš„åç§°ï¼›ï¼ˆ2ï¼‰depsæ•°ç»„ï¼Œè¡¨æ˜è¯¥æ¨¡å—çš„ä¾èµ–æ€§ã€‚ æ¯”å¦‚ï¼ŒjQueryçš„æ’ä»¶å¯ä»¥è¿™æ ·å®šä¹‰ï¼š shim: { â€˜jquery.scrollâ€™: { deps: [â€˜jqueryâ€™], exports: â€˜jQuery.fn.scrollâ€™ } } require.jsæ’ä»¶require.jsè¿˜æä¾›ä¸€ç³»åˆ—æ’ä»¶ï¼Œå®ç°ä¸€äº›ç‰¹å®šçš„åŠŸèƒ½ã€‚ domreadyæ’ä»¶ï¼Œå¯ä»¥è®©å›è°ƒå‡½æ•°åœ¨é¡µé¢DOMç»“æ„åŠ è½½å®Œæˆåå†è¿è¡Œã€‚ require([â€˜domready!â€™], function (doc){ // called once the DOM is ready }); textå’Œimageæ’ä»¶ï¼Œåˆ™æ˜¯å…è®¸require.jsåŠ è½½æ–‡æœ¬å’Œå›¾ç‰‡æ–‡ä»¶ã€‚ define([ â€˜text!review.txtâ€™, â€˜image!cat.jpgâ€™ ], function(review,cat){ console.log(review); document.body.appendChild(cat); } ); ç±»ä¼¼çš„æ’ä»¶è¿˜æœ‰jsonå’Œmdownï¼Œç”¨äºåŠ è½½jsonæ–‡ä»¶å’Œmarkdownæ–‡ä»¶ã€‚ï¼ˆå®Œï¼‰ å¦ä¸€ä¸ªäººçš„æ¦‚æ‹¬(æœ‰ç‚¹ç®€å•)ï¼š AMDå°±åªæœ‰ä¸€ä¸ªæ¥å£ï¼šdefine(id?,dependencies?,factory); å®ƒè¦åœ¨å£°æ˜æ¨¡å—çš„æ—¶å€™åˆ¶å®šæ‰€æœ‰çš„ä¾èµ–(dep)ï¼Œå¹¶ä¸”è¿˜è¦å½“åšå½¢å‚ä¼ åˆ°factoryä¸­ï¼Œåƒè¿™æ ·ï¼š define([â€˜dep1â€™,â€™dep2â€™],function(dep1,dep2){â€¦}); è¦æ˜¯æ²¡ä»€ä¹ˆä¾èµ–ï¼Œå°±å®šä¹‰ç®€å•çš„æ¨¡å—ï¼Œä¸‹é¢è¿™æ ·å°±å¯ä»¥å•¦ï¼š define(function(){ var exports = {}; exports.method = function(){...}; return exports; }); å’¦ï¼Œè¿™é‡Œæœ‰defineï¼ŒæŠŠä¸œè¥¿åŒ…è£…èµ·æ¥å•¦ï¼Œé‚£Nodeå®ç°ä¸­æ€ä¹ˆæ²¡çœ‹åˆ°æœ‰defineå…³é”®å­—å‘¢ï¼Œå®ƒä¹Ÿè¦æŠŠä¸œè¥¿åŒ…è£…èµ·æ¥å‘€ï¼Œå…¶å®å§ï¼Œåªæ˜¯Nodeéšå¼åŒ…è£…äº†è€Œå·²â€¦.. è¿™æœ‰AMDçš„WIKIä¸­æ–‡ç‰ˆï¼Œè®²äº†å¾ˆå¤šè›®è¯¦ç»†çš„ä¸œè¥¿ï¼Œç”¨åˆ°çš„æ—¶å€™å¯ä»¥æŸ¥çœ‹ï¼šAMDçš„WIKIä¸­æ–‡ç‰ˆ CMDå¤§åè¿œæ‰¬çš„ç‰ä¼¯å†™äº†seajsï¼Œå°±æ˜¯éµå¾ªä»–æå‡ºçš„CMDè§„èŒƒï¼Œä¸AMDè›®ç›¸è¿‘çš„ï¼Œä¸è¿‡ç”¨èµ·æ¥æ„Ÿè§‰æ›´åŠ æ–¹ä¾¿äº›ï¼Œæœ€é‡è¦çš„æ˜¯ä¸­æ–‡ç‰ˆï¼Œåº”æœ‰å°½æœ‰ï¼šseajså®˜æ–¹doc define(function(require,exports,module){â€¦}); ç”¨è¿‡seajså§ï¼Œè¿™ä¸ªä¸é™Œç”Ÿå§ï¼Œå¯¹å§ã€‚ å‰é¢è¯´AMDï¼Œè¯´RequireJSå®ç°äº†AMDï¼ŒCMDçœ‹èµ·æ¥ä¸AMDå¥½åƒå‘€ï¼Œé‚£RequireJSä¸SeaJSåƒä¸åƒå‘¢ï¼Ÿ è™½ç„¶CMDä¸AMDè›®åƒçš„ï¼Œä½†åŒºåˆ«è¿˜æ˜¯æŒºæ˜æ˜¾çš„ï¼Œå®˜æ–¹éå®˜æ–¹éƒ½æœ‰é˜è¿°å’Œç†è§£ï¼Œæˆ‘è§‰å¾—å§ï¼Œè¯´çš„éƒ½æŒºå¥½ï¼š å®˜æ–¹é˜è¿°SeaJSä¸RequireJSå¼‚åŒ SeaJSä¸RequireJSçš„æœ€å¤§å¼‚åŒï¼ˆè¿™ä¸ªè¯´çš„ä¹ŸæŒºå¥½)]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>CommonJS/AMD/CMD</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨ JavaScript å’Œ Emoji åšåœ°å€æ åŠ¨ç”»]]></title>
    <url>%2F2019%2F01%2F27%2FEmojis-url%2F</url>
    <content type="text"><![CDATA[åŒæ ·æ˜¯9å¹´ä¹‰åŠ¡æ•™è‚²ï¼Œä½ ä¸ºä½•è¿™ä¹ˆä¼˜ç§€ è¯‘è€…ï¼šWpeach åŸæ–‡ä½œè€…ï¼šMatthew Rayfield åŸæ–‡åœ°å€ï¼šAnimating URLs with Javascript and Emojis ä½ å¯ä»¥åœ¨åœ°å€æ ä½¿ç”¨ emojiï¼ˆå’Œå…¶å®ƒå›¾å½¢ unicode å­—ç¬¦ï¼‰ï¼Œè¿™çœ‹ç€å¾ˆæ£’ï¼Œä½†æ˜¯å¥½åƒæ²¡äººè¿™ä¹ˆåšï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿä¹Ÿè®¸ emoji å¯¹äºæ­£å¸¸çš„ç½‘ç»œå¹³å°æ¥è¯´å¤ªè¿‡å¼‚å›½æƒ…è°ƒäº†ï¼Ÿæˆ–è®¸æ˜¯ä»–ä»¬å› ä¸ºå®³æ€•ä¸åˆ©äºSEOï¼Ÿä¸ç®¡ä»€ä¹ˆåŸå› ï¼Œç»´æ©å›¾ä¸­çš„åˆç†æ€§è§‚ç‚¹â€œæ²¡äººè¿™ä¹ˆåšï¼Œä½†è¿™æ˜¯å¯èƒ½çš„â€æ˜¯è®©æˆ‘å…´å¥‹çš„ç‚¹ã€‚æ‰€ä»¥æˆ‘å†³å®šèŠ±è´¹ä¸€äº›æ—¶é—´ç ”ç©¶åœ¨åœ°å€æ ä¸­å›¾å½¢å­—ç¬¦çš„å¯èƒ½æ€§ï¼Œç‰¹åˆ«æ˜¯é€šè¿‡ JavaScript ç»™è¿™äº›å­—ç¬¦åŠ ä¸ŠåŠ¨ç”»ã€‚å¾ªç¯åŠ¨ç”»é¦–å…ˆï¼Œç¡®ä¿ä½ é¡µé¢çš„ JavaScript ä»£ç æ˜¯ UTF-8 ç¼–ç ï¼Œå¦åˆ™æ— æ³•åœ¨ä½ çš„ä»£ç ä¸­æ˜¾ç¤º emojiï¼Œè¿™å¯ä»¥é€šè¿‡è®¾ç½® HTTP å¤´éƒ¨æˆ–é¡µé¢çš„ META æ ‡ç­¾æ¥å®ç°ã€‚ä½ å¾ˆå¯èƒ½ä¸ç”¨æ‹…å¿ƒè¿™ä¸ªï¼Œä½†ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ›´å¤šä¿¡æ¯ï¼šUnicode in Javascript by Flavioã€‚ä¸ºäº†è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œè®© emoji åƒå°ä»™å¥³ä¸€æ ·åœ¨åœ°å€æ é‡Œååèµ·èˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¾ªç¯ï¼Œå®é™…ä¸Šï¼Œæˆ‘ä»¬æ‰€éœ€è¦çš„åªæ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œæˆ‘ä»¬å¯åŠ¨è¿™ä¸ªå¾ªç¯ï¼Œå®ƒä¸æ–­å¾ªç¯ï¼Œæˆ‘ä»¬çš„ç›®çš„å°±è¾¾åˆ°äº†ã€‚è¿™æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå¾ªç¯åŠ¨ç”»ï¼Œä¸€ä¸ªæ—‹è½¬çš„emoji æœˆäº®ã€‚æˆ‘çŒœå½“ä»–ä»¬æ·»åŠ è¿™ä¸ª emoji åºåˆ—æ—¶ï¼Œä¹Ÿæœ‰è¿™ä¸ªæƒ³æ³•å§ï¼Ÿ var f = [&apos;ğŸŒ‘&apos;, &apos;ğŸŒ’&apos;, &apos;ğŸŒ“&apos;, &apos;ğŸŒ”&apos;, &apos;ğŸŒ&apos;, &apos;ğŸŒ–&apos;, &apos;ğŸŒ—&apos;, &apos;ğŸŒ˜&apos;]; function loop() { location.hash = f[Math.floor((Date.now()/100)%f.length)]; setTimeout(loop, 50); } loop(); å¤åˆ¶ä»£ç è¿è¡Œä»£ç ï¼Œä½ å¯ä»¥åœ¨åœ°å€æ çœ‹åˆ°æ­¤å¾ªç¯çš„ç»“æœã€‚å¦‚æœä½ ä¸å–œæ¬¢æ—‹è½¬çš„æœˆäº®ï¼Œä½ å¯ä»¥é€‰æ‹©ä»»ä½•ä½ å–œæ¬¢çš„ emoji æ¥æ›¿æ¢è¿™ä¸ªæ•°ç»„ï¼Œæ¯”å¦‚ä¸€ä¸ªæ—¶é’Ÿï¼š var f = [â€˜ğŸ•â€™,â€™ğŸ•‘â€™,â€™ğŸ•’â€™,â€™ğŸ•“â€™,â€™ğŸ•”â€™,â€™ğŸ••â€™,â€™ğŸ•–â€™,â€™ğŸ•—â€™,â€™ğŸ•˜â€™,â€™ğŸ•™â€™,â€™ğŸ•šâ€™,â€™ğŸ•›â€™];å¤åˆ¶ä»£ç è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­ï¼ŒçœŸçš„éå¸¸ç®€å•ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥å‡çº§ä¸€ä¸‹å¾ªç¯ï¼Œè®©å®ƒæ˜¾ç¤ºä¸€ä¸² emoji ! è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨ emoji çš„skin tone modifiersè‚¤è‰²è°ƒèŠ‚å±æ€§æ¥åˆ¶ä½œä¸€äº›å˜è‰²å®å®ï¼š var e = [&apos;ğŸ»&apos;, &apos;ğŸ¼&apos;, &apos;ğŸ½&apos;, &apos;ğŸ¾&apos;, &apos;ğŸ¿&apos;]; function loop() { var s = &apos;&apos;, i, m; for (i = 0; i &lt; 10; i ++) { m = Math.floor(e.length * ((Math.sin((Date.now()/100) + i)+1)/2)); s += &apos;ğŸ‘¶&apos; + e[m]; } location.hash = s; setTimeout(loop, 50); } loop(); å¤åˆ¶ä»£ç æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ—¶é—´å’Œä½ç½®æ§åˆ¶çš„æ­£å¼¦æ³¢æ¥é€‰æ‹©æˆ‘ä»¬æƒ³è¦çš„é¢œè‰²ï¼Œè¿™ç»™äº†æˆ‘ä»¬ä¸€ä¸ªå¾ˆå¥½çš„é¢œè‰²å˜å¹»æ•ˆæœï¼æ¯”å¦‚æˆ‘ä»¬å†æ¥ä¸€æ¬¡æœˆäº®æ—‹è½¬ï¼Œä½¿å®ƒå±•å¼€ï¼Œåˆ¶ä½œä¸€ä¸ªç±»ä¼¼äºåŠ è½½æ¡çš„åŠ¨ç”»ï¼Ÿå¥½çš„ï¼Œå¼€å§‹å®ç°ï¼š var f = [&apos;ğŸŒ‘&apos;, &apos;ğŸŒ˜&apos;, &apos;ğŸŒ—&apos;, &apos;ğŸŒ–&apos;, &apos;ğŸŒ•&apos;, &apos;ğŸŒ”&apos;, &apos;ğŸŒ“&apos;, &apos;ğŸŒ’&apos;], d = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], m = 0; function loop() { var s = &apos;&apos;, x = 0; if (!m) { while (d[x] == 4) { x ++; } if (x &gt;= d.length) m = 1; else { d[x] ++; } } else { while (d[x] == 0) { x ++; } if (x &gt;= d.length) m = 0; else { d[x] ++; if (d[x] == 8) d[x] = 0; } } d.forEach(function (n) { s += f[n]; }); location.hash = s; setTimeout(loop, 50); } loop(); å¤åˆ¶ä»£ç æ¢ç´¢å…¶å®ƒå­—ç¬¦ä¸æ­¢æ˜¯ emoji ç»™æˆ‘ä»¬æä¾›äº†ä¸€ç§åœ¨åœ°å€æ æ˜¾ç¤ºå›¾å½¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬çš„ç›®æ ‡ä¸­ä¹Ÿæœ‰ä¸€äº› unicode å­—ç¬¦ã€‚ç‰¹åˆ«æœ‰è¶£çš„æ˜¯ æ¡†çº¿å­—ç¬¦: å®ƒä»¬ä¸­å¾ˆå¤šæ›´é€‚åˆäºŒç»´è¾“å‡ºï¼Œä½†å®ƒä»¬åœ¨ä¸€ç»´è¾“å‡ºä¹Ÿå¾ˆæ£’ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå¤šä¸ªé«˜åº¦å˜åŒ–çš„å—å­—ç¬¦ä¸²ï¼Œå¹¶æ„é€ ä¸€ä¸ªæ¼‚äº®çš„å°æ³¢æµªåŠ¨ç”»ï¼š function loop() { var i, n, s = &apos;&apos;; for (i = 0; i &lt; 10; i++) { n = Math.floor(Math.sin((Date.now()/200) + (i/2)) * 4) + 4; s += String.fromCharCode(0x2581 + n); } window.location.hash = s; setTimeout(loop, 50); } loop(); å¤åˆ¶ä»£ç æˆ‘éå¸¸å–œæ¬¢å®ƒçš„æ•ˆæœï¼Œæˆ‘æŠŠå®ƒæ°¸ä¹…æ”¾åœ¨äº† wavyurl.com ä¸Šã€‚ä½¿ç”¨å¯å˜å®½åº¦å­—ç¬¦ï¼Œæˆ‘ä»¬ç”šè‡³åœ¨æ°´å¹³æ–¹å‘ä¸Šæ‘†åŠ¨ï¼Œåˆ›å»ºç±»ä¼¼äºè¿›åº¦æ¡çš„ä¸œè¥¿ï¼š function loop() { var s = &apos;&apos;, p; p = Math.floor(((Math.sin(Date.now()/300)+1)/2) * 100); while (p &gt;= 8) { s += &apos;â–ˆ&apos;; p -= 8; } s += [&apos;â €&apos;,&apos;â–&apos;,&apos;â–&apos;,&apos;â–&apos;,&apos;â–Œ&apos;,&apos;â–‹&apos;,&apos;â–Š&apos;,&apos;â–‰&apos;][p]; location.hash = s; setTimeout(loop, 50); } å¤åˆ¶ä»£ç è¿›åº¦æ¡ï¼Ÿè¿™çœ‹èµ·æ¥ï¼Œè¿˜æ˜¯æœ‰ç”¨çš„ï¼Œè¿™è®©æˆ‘æƒ³åˆ°äº†â€¦â€¦åœ¨åœ°å€æ æ˜¾ç¤ºè§†é¢‘è¿›åº¦ä¸ºäº†å¢åŠ æˆ‘ä»¬å°å®éªŒçš„å¯èƒ½æ€§ï¼Œæˆ‘æå‡ºäº†åœ¨åœ°å€æ ä¸­æ˜¾ç¤ºç½‘ç»œè§†é¢‘è¿›åº¦çš„æƒ³æ³•ã€‚æˆ‘åªéœ€é™„åŠ ä¸€ä¸ªå‡½æ•°ï¼Œå°†æˆ‘ä»¬çš„è¿›åº¦å­—ç¬¦ä¸²å®šä¹‰åœ¨è§†é¢‘çš„timeupdateäº‹ä»¶ä¸­ï¼Œç§ï¼åœ°å€æ ä¸­çš„è§†é¢‘è¿›åº¦æ¡åŒ…å«æ—¶é—´å’ŒæŒç»­æ—¶é—´ï¼ var video; function formatTime(seconds) { var minutes = Math.floor(seconds/60), seconds = Math.floor(seconds - (minutes*60)); return (&apos;0&apos;+minutes).substr(-2) + &apos;:&apos; + (&apos;0&apos;+seconds).substr(-2); } function renderProgressBar() { var s = &apos;&apos;, l = 15, p = Math.floor(video.currentTime / video.duration * (l-1)), i; for (i = 0; i &lt; l; i ++) { if (i == p) s +=&apos;â—¯&apos;; else if (i &lt; p) s += &apos;â”€&apos;; else s += &apos;â”„&apos;; } location.hash = &apos;â•­&apos;+s+&apos;â•®&apos;+formatTime(video.currentTime)+&apos;â•±&apos;+formatTime(video.duration); } video = document.getElementById(&apos;video&apos;); video.addEventListener(&apos;timeupdate&apos;, renderProgressBar); å¤åˆ¶ä»£ç æˆ‘æ¯”è¾ƒå–œæ¬¢è¿™ä¸ªçº¿æ¡å’Œåœ†ç»„æˆçš„è¿›åº¦æ¡ï¼Œå¦‚æœä½ å–œæ¬¢åˆ«çš„ emoji æ¯”å¦‚æœˆäº®ï¼Œæˆ‘ä¹Ÿèƒ½è®©ä½ æ»¡æ„ï¼š var e = [&apos;ğŸŒ‘&apos;, &apos;ğŸŒ˜&apos;, &apos;ğŸŒ—&apos;, &apos;ğŸŒ–&apos;, &apos;ğŸŒ•&apos;], video; function formatTime(seconds) { var minutes = Math.floor(seconds/60), seconds = Math.floor(seconds - (minutes*60)); return (&apos;0&apos;+minutes).substr(-2) + &apos;:&apos; + (&apos;0&apos;+seconds).substr(-2); } function renderProgressBar() { var s = &apos;&apos;, c = 0, l = 10, p = Math.floor(video.currentTime / video.duration * ((l*5)-1)), i; while (p &gt;= 5) { s += e[4]; c ++; p -= 5; } s += e[p]; c ++; while (c &lt; l) { s += e[0]; c ++; } location.hash = s+formatTime(video.currentTime)+&apos;â•±&apos;+formatTime(video.duration); } video = document.getElementById(&apos;video&apos;); video.addEventListener(&apos;timeupdate&apos;, renderProgressBar); å¤åˆ¶ä»£ç å¥½çš„ï¼Œå°†æ­¤è¿›åº¦æ¡ç§°ä¸ºâ€œæœ‰ç”¨â€çš„å»¶ä¼¸ã€‚ åªç„ä¸€çœ¼ï¼Œæˆ‘ä¹Ÿå¯ä»¥çœ‹åˆ°åœ¨è§†é¢‘åˆ†äº« URL ä¸­çš„è¿›åº¦ã€‚ ä¸YouTubeä¸€æ ·ï¼Œä½ å¯ä»¥é€‰æ‹©åœ¨ç‰¹å®šæ—¶é—´åˆ›å»ºæŒ‡å‘è§†é¢‘çš„é“¾æ¥ï¼Œæ·»åŠ è§†è§‰æŒ‡ç¤ºæ˜¯ä¸æ˜¯å¾ˆé…·ï¼Ÿå—¯ï¼Ÿä¹Ÿè®¸æˆ‘è¿˜æ²¡æœ‰æå‡ºä¸€äº›æ›´æœ‰ç”¨çš„â€œæŠ€æœ¯â€å®ç°ï¼Œæˆ‘ä¼šç»§ç»­æ€è€ƒè¿™ä¸ªé—®é¢˜ã€‚ å˜¿ï¼Œä¹Ÿè®¸ä½ å¯ä»¥å°è¯•ä¸€äº›ä¸œè¥¿ï¼Ÿæœ€åä½ å¯èƒ½æƒ³çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä½¿ç”¨location.hash =ï¼Œè€Œä¸æ˜¯æ–°ä¸”é…·çš„HTML5 History APIã€‚ æœ‰ä¸¤ä¸ªåŸå› ï¼šç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ History APIæœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼šå®ƒå®é™…ä¸Šæ›´æ”¹äº†æ•´ä¸ª URL è·¯å¾„ï¼Œè€Œä¸ä»…ä»…æ˜¯ hashã€‚ å› æ­¤ï¼Œå¦‚æœæˆ‘ä½¿ç”¨ History API å¹¶å°†é¡µé¢æ›´æ”¹ä¸º/ğŸŒ‘ğŸŒ˜ğŸŒ—ğŸŒ–ğŸŒ•ï¼Œå®ƒçœ‹èµ·æ¥ä¼šæ¯”æ·»åŠ  ï¼ƒ æ›´å¥½ã€‚ ä½†è¿™ä¹Ÿæ„å‘³ç€æˆ‘çš„ Web æœåŠ¡å™¨å¿…é¡»èƒ½å¤Ÿå“åº”/ğŸŒ‘ğŸŒ˜ğŸŒ—ğŸŒ–ğŸŒ•ï¼Œå¦åˆ™å¦‚æœç”¨æˆ·åˆ·æ–°æˆ–ä»¥å…¶ä»–æ–¹å¼å¯¼èˆªåˆ°ä¿®æ”¹åçš„ URL å°†ä¼šå¤±è´¥ã€‚ è¿™æ˜¯å¯è¡Œçš„ï¼Œä½†æ¯”ä½¿ç”¨location.hash =æ›´å¤æ‚ï¼Œéœ€è¦æˆ‘ä¿®æ”¹æœåŠ¡å™¨é…ç½®ã€‚ç¬¬äºŒä¸ªé—®é¢˜æœ‰äº›å‡ºä¹æ„æ–™ã€‚ å®é™…ä¸Šï¼Œåœ¨æˆ‘æµ‹è¯•çš„3ä¸ªæµè§ˆå™¨ä¸­ï¼Œæœ‰2ä¸ªå†å²APIè¢«é™åˆ¶çš„ã€‚ å¦‚æœæˆ‘ä»¥æå¿«çš„é€Ÿåº¦å°†æˆ‘çš„æ³¢å½¢ç½‘å€æ¨é€åˆ°åœ°å€æ ï¼Œæˆ‘æœ€ç»ˆä¼šåœ¨ Chrome ä¸­æ”¶åˆ°ä»¥ä¸‹é”™è¯¯ï¼š Throttling history state changes to prevent the browser from hanging. Safari ç»™æˆ‘ä»¬æä¾›äº†æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼š SecurityError: Attempt to use history.pushState() more than 100 times per 30.000000 seconds ç°åœ¨ï¼Œå¦‚æœè®©æˆ‘ä¿æŒåœ¨è¿™ä¸ªé™åˆ¶ä¸‹ä¹Ÿè¡Œï¼Œä½†æ˜¯æ¯ç§’3å¸§åªæ˜¯ä¸ä¼šå½±å“æˆ‘ç›®å‰çš„åŠ¨ç”»æ•ˆæœã€‚å¥½å­©å­ Firefox ä¼¼ä¹å¹¶ä¸åœ¨ä¹æˆ‘æ¨é€æ–°å†å²çš„æ¬¡æ•°å’Œé€Ÿåº¦ï¼Œè¿™çœŸæ˜¯æƒ³å¾—å¤ªå‘¨åˆ°äº†ã€‚ä½†æ˜¯ï¼Œä¸¤ä¸ªä¸»è¦çš„æµè§ˆå™¨å—åˆ°å½±å“ï¼ŒåŠ ä¸Šéœ€è¦webæœåŠ¡å™¨é…ç½®æ¥ä¿®å¤ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œä½¿æˆ‘æ›´æ„¿æ„å¿å— URL ä¸­çš„ #ã€‚]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>ç”¨JavaScriptå’ŒEmoji åšåœ°å€æ åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[webpack4.29.0åŸºæœ¬ç”¨æ³•]]></title>
    <url>%2F2019%2F01%2F25%2Fwebpack4-29-0%2F</url>
    <content type="text"><![CDATA[ä¸ç§¯è·¬æ­¥æ— ä»¥è‡³åƒé‡Œï¼Œä¸ç§¯å°æµæ— ä»¥æˆæ±Ÿæµ· ä»2009åˆ°2019ç¤¾ä¼šåœ¨ä¸æ–­è¿›æ­¥ æŠ€æœ¯ä¹Ÿåœ¨ä¸æ–­è¿›æ­¥ æˆ‘ä»¬å½“ç„¶ä¹Ÿä¸èƒ½è½å å‡†å¤‡å·¥ä½œ å…¨å±€å®‰è£…webpackå’Œwebpack-cli sudo npm install webpack -gsudo npm install webpack-cli -g æ–‡ä»¶å¤¹ä¸‹å±€éƒ¨å®‰è£… npm init -ysudo npm install webpack â€“save-devsudo npm install webpack-cli â€“save-dev å®ç°å¯¹ä¸€ä¸ªjsæ–‡ä»¶æ‰“åŒ…1234567891011//webpack.config.jsconst path = require(&apos;path&apos;)module.exports = &#123; mode:&apos;development&apos;, entry:&apos;./app.js&apos;, output:&#123; filename:&apos;[name].bundle.js&apos;, path:path.join(__dirname,&apos;./dist&apos;), &#125;&#125;è¿™æ ·å°±èƒ½åœ¨distç›®å½•ä¸‹å‡ºç°ä¸€ä¸ªapp.bundle.jsæ–‡ä»¶å•¦ï¼ å®ç°å¤šä¸ªjsæ–‡ä»¶æ‰“åŒ…12345678910111213141516171819//webpack.config.jsconst path = require(&apos;path&apos;)const CleanWebpackPlugin = require(&apos;clean-webpack-plugin&apos;)module.exports = &#123; mode: &apos;development&apos;, entry: &#123; index: &apos;./src/index.js&apos;, test: &apos;./src/test.js&apos;, test1: &apos;./src/test1.js&apos;, &#125;, output: &#123; path: path.join(__dirname,&apos;./dist/js&apos;), filename:&apos;[name]-[hash].js&apos;, pubicPath: &apos;http://cdn.con&apos; //è¯·æ±‚æ—¶ä¼šè‡ªå·±åŠ åè®®ï¼ˆlocation.protocol=&apos;http&apos;ï¼‰å’Œç«¯å£å·(host=&apos;cdn.con&apos;) &#125;ï¼Œ plugins: [ new CleanWebpackPlugin ([&apos;./dist/js&apos;]) //æ¸…é™¤ä¹‹å‰æ‰“åŒ…çš„æ–‡ä»¶ ]&#125; ä½¿ç”¨æ¨¡ç‰ˆå®ç°æ¯ä¸ªjså¯¹åº”è‡ªå·±çš„html123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657//webpack.config.jsconst path = require(&apos;path&apos;)const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;) //æ¨¡ç‰ˆloaderconst CleanWebpackPlugin = require(&apos;clean-webpack-plugin&apos;)module.exports = &#123; entry:&#123; index:&apos;./src/index.js&apos;, test:&apos;./src/test.js&apos;, test1:&apos;./src/test1.js&apos;, &#125;, output:&#123; path:path.join(__dirname,&apos;./dist/js&apos;), filename:&apos;[name]-[hash].js&apos;, publicPath:&quot;http://cdn.com&quot; &#125;, plugins:[ new HtmlWebpackPlugin(&#123; title: &apos;this a index.html&apos;, //æ¯ä¸ªhtml çš„title template:&apos;hello.html&apos;, filename:&apos;index.html&apos;, excludeChunks:[&apos;test&apos;,&apos;test1&apos;] //æ’é™¤åä¸ºtest.js,test1.jsæ‰“åŒ…çš„jsæ–‡ä»¶ &#125;), new HtmlWebpackPlugin(&#123; title:&apos;this a test.js&apos;, template:&apos;hello.html&apos;, filename:&apos;test.html&apos;, excludeChunks:[&apos;index&apos;,&apos;test1&apos;] &#125;), new HtmlWebpackPlugin(&#123; title:&apos;this a test1.js&apos;, template:&apos;hello.html&apos;, filename:&apos;test1.html&apos;, excludeChunks:[&apos;test&apos;,&apos;index&apos;] &#125;), new CleanWebpackPlugin([&apos;./dist/js&apos;]) ]&#125;//hello.html æ¨¡ç‰ˆå†…å®¹&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;&lt;title&gt;&lt;%= htmlWebpackPlugin.options.title%&gt;&lt;/title&gt;&lt;script type=&quot;text/javascript&quot;&gt; &lt;%= compilation.assets[htmlWebpackPlugin.files.chunks.test1.entry.substr (htmlWebpackPlugin.files.publicPath.length)].source() %&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;% for(let k in htmlWebpackPlugin.files.chunks) &#123;%&gt; &lt;% if(k != &apos;index&apos;) &#123;%&gt; &lt;script src=&quot;&lt;%=htmlWebpackPlugin.files.chunks[k].entry %&gt;&quot;&gt;&lt;/script&gt; &lt;% &#125;%&gt; &lt;% &#125; %&gt;&lt;/body&gt; ä½¿ç”¨file-loader|css-loader|style-loader|postcss-loader1234567891011121314151617181920212223242526272829303132333435//webpack.config.jsmodule.exports = &#123;mode: &apos;development&apos;,entry: &apos;./app.js&apos;,output: &#123; filename: &apos;[name].bundle.js&apos;, path: path.join(__dirname, &apos;./dist/js1&apos;),&#125;,plugins: [ new CleanWebpackPlugin([&apos;./dist/js1&apos;]), require(&apos;autoprefixer&apos;)],module: &#123; rules: [ &#123; test: /\.(le|c)ss$/, test: /\.(png|jpg|gif)$/, use: [ &#123; loader: &quot;style-loader&quot; &#125;, &#123; loader: &quot;css-loader&quot; &#125;, &#123; loader: &apos;file-loader&apos;&#125;, &#123; loader: &quot;postcss-loader&quot;, options: &#123; plugins: [ require(&quot;autoprefixer&quot;) /*åœ¨è¿™é‡Œæ·»åŠ */, ], &#125; &#125; ] &#125; ] &#125;,&#125;]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>webpack4+</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨githubå’Œhexoæ­å»ºä¸ªäººåšå®¢]]></title>
    <url>%2F2019%2F01%2F24%2Fposts%2F</url>
    <content type="text"><![CDATA[æ‰€è°“åšå®¢ï¼Œéƒ½æ˜¯å­¤èŠ³è‡ªèµ ç°åœ¨è¶Šæ¥è¶Šå¤šçš„äººå–œæ¬¢åˆ©ç”¨Githubæ­å»ºé™æ€ç½‘ç«™ï¼ŒåŸå› ä¸å¤–ä¹ç®€å•çœé’±ã€‚æœ¬äººä¹Ÿåˆ©ç”¨hexo+githubæ­å»ºäº†æœ¬åšå®¢ï¼Œç”¨äºåˆ†äº«ä¸€äº›å¿ƒå¾—ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼ŒæŠ˜è…¾åšå®¢çš„å„ç§é…ç½®ä»¥åŠåŠŸèƒ½å å…·äº†æˆ‘ä¸€éƒ¨åˆ†æ—¶é—´ï¼Œåœ¨æ­¤è¯¦ç»†è®°å½•ä¸‹æˆ‘æ˜¯å¦‚ä½•åˆ©ç”¨hexo+githubæ­å»ºé™æ€åšå®¢ä»¥åŠä¸€äº›é…ç½®ç›¸å…³é—®é¢˜ï¼Œä»¥å…è¿‡åé—å¿˜ï¼Œä¸”å½“å¤‡ä»½ä¹‹ç”¨ã€‚ å‡†å¤‡å·¥ä½œ ä¸‹è½½node.jså¹¶å®‰è£…ï¼ˆå®˜ç½‘ä¸‹è½½å®‰è£…ï¼‰ï¼Œé»˜è®¤ä¼šå®‰è£…npmã€‚ ä¸‹è½½å®‰è£…gitï¼ˆå®˜ç½‘ä¸‹è½½å®‰è£…ï¼‰ ä¸‹è½½å®‰è£…hexoã€‚æ–¹æ³•ï¼šæ‰“å¼€cmd è¿è¡Œnpm install -g hexo æœ¬åœ°æ­å»ºhexoé™æ€åšå®¢ æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¦‚MyBlog è¿›å…¥è¯¥æ–‡ä»¶å¤¹å†…ï¼Œå³å‡»è¿è¡Œgitï¼Œè¾“å…¥ï¼šhexo initï¼ˆç”Ÿæˆhexoæ¨¡æ¿ï¼Œå¯èƒ½è¦ç¿»å¢™ï¼‰ ç”Ÿæˆå®Œæ¨¡æ¿ï¼Œè¿è¡Œnpm installï¼ˆç›®å‰è²Œä¼¼ä¸ç”¨è¿è¡Œè¿™ä¸€æ­¥ï¼‰ æœ€åè¿è¡Œï¼šhexo server ï¼ˆè¿è¡Œç¨‹åºï¼Œè®¿é—®æœ¬åœ°+localhost:4000å¯ä»¥çœ‹åˆ°åšå®¢å·²ç»æ­å»ºæˆåŠŸï¼‰ éƒ¨ç½²github åœ¨MyBlogä¸‹å®‰è£… npm install â€“save hexo-deployer-git æ‰¾åˆ°_config.ymlæ–‡ä»¶ä¿®æ”¹ä¸€ä¸‹æ–‡ä»¶ deploy:type: gitrepo: https://github.com/Zhanghuaxiao/Zhanghuaxiao.github.io.gitbranch: master æœ€åè¿è¡Œ hexo clean(æ¸…é™¤) hexo g(ç”Ÿæˆ) hexo d(éƒ¨ç½²) ç‚¹å‡»æŸ¥çœ‹æ•ˆæœ: https://zhanghuaxiao.github.io/ ä½¿ç”¨nexTä¸»é¢˜ å®‰è£… git clone https://github.com/iissnan/hexo-theme-next themes/next ä¿®æ”¹_config.ymlæ–‡ä»¶ä¸­ theme:next è¿è¡Œhexo clean hexo s hexoå’ŒnexTä¸­æ–‡ç½‘ hexoä¸­æ–‡ç½‘ https://hexo.io/zh-cn/docs/helpersnexTä¸­æ–‡å®˜ç½‘ http://theme-next.iissnan.com/getting-started.html nexTä¸»é¢˜å‚è€ƒæ–‡ç«  å¯¹nexTä¸»é¢˜è®¾ç½®:https://segmentfault.com/a/1190000009544924#articleHeader2seoä¼˜åŒ–:https://www.jianshu.com/p/86557c34b671]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>nexT</tag>
        <tag>æ­å»ºè‡ªå·±åšå®¢</tag>
      </tags>
  </entry>
</search>
